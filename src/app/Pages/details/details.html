@if( productDetails$ | async ;  as product){
  <section>
  <div class="container">
    <div class="grid align-items-center pb-5">
      <div class="md:col-6">
        <figure>
          <img
            class="w-full h-25rem"
            [src]="product.image"
            [alt]="product.title"
          />
        </figure>
      </div>
      <div class="md:col-6">
        <p class="font-medium mt-1 mb-3 text-color-secondary">
          {{ product.title }}
        </p>

        <p class="font-medium text-sm my-1">
          {{ product.description }}
        </p>
        <div class="flex align-items-center gap-2 mb-4">
          <div class="price flex gap-2 align-items-center">

            <span class="new-price font-bold">
              <span class="text-green-400">$</span> {{ product.price }}
            </span>
          </div>
          <div class="rate">
            <span class="bg-red-500 p-1 border-circle text-white text-xs"
              >{{ product.rating.rate }}</span>
              <span class="fonot-bold text-xs font-bold px-1">Rate</span>
          </div>
        </div>
        <div>

          <div
            class="flex align-items-center justify-content-between capitalize"
          >
            <p class="text-color-secondary my-1">category:</p>
            <p class="font-bold text-orange-500 my-1">
              {{ product.category }}
            </p>
          </div>

        </div>


   @if (!isInCart(product.id)) {
      <p-button
        (click)="addToCart(product)"
        label="Add to cart"
        severity="warn"
        styleClass="my-2 uppercase w-full"
        icon="pi pi-cart-plus text-2xl"
        iconPos="right"
      />
      } @if(isInCart(product.id)) {
      <p-button
      [routerLink]="['/cart']"
        label="Go To cart"
        severity="contrast"
        styleClass="my-2 uppercase w-full"
        icon="pi pi-shopping-cart text-2xl"
        iconPos="right"
      />
      }
        </div>
      </div>
    </div>
</section>

}@else {<p>.....Loading</p>}
